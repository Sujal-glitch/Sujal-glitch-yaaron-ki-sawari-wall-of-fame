<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Yaaron Ki Sawari ‚Äî Wall of Fame</title>
<meta name="description" content="Yaaron Ki Sawari ‚Äî Wall of Fame: guest review videos, get featured, and join our travel family." />
<link rel="icon" href="https://raw.githubusercontent.com/Sujal-glitch/yaaron-ki-sawari-wall-of-fame/main/logo.jpeg">

<!-- Swiper CSS -->
<link href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" rel="stylesheet"/>

<style>
  /* Bright theme: clean, minimal, gold accents */
  :root{
    --bg:#ffffff;
    --panel:#ffffff;
    --muted:#6b7280;
    --accent:#C68621; /* soft gold */
    --accent-2:#ffd166;
    --glass: rgba(10,10,10,0.04);
    --card-shadow: 0 8px 30px rgba(16,24,40,0.06);
    --maxw:1100px;
    --radius:14px;
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;
    font-family:Inter, system-ui, -apple-system, "Helvetica Neue", Arial;
    background:linear-gradient(180deg,#f8fafc 0%, #ffffff 100%);
    color:#0f172a;
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
  }

  .wrap{
    max-width:var(--maxw);
    margin:18px auto;
    min-height:calc(100vh - 36px);
    border-radius:16px;
    overflow:hidden;
    position:relative;
    background:linear-gradient(180deg,#ffffff, #fbfbfb);
    box-shadow:var(--card-shadow);
    border:1px solid rgba(15,23,42,0.04);
  }

  /* topbar */
  .topbar{
    display:flex;gap:12px;align-items:center;padding:12px 18px;background:transparent;
  }
  .logo{
    width:64px;height:64px;border-radius:12px;overflow:hidden;flex-shrink:0;background:#fff;border:1px solid rgba(15,23,42,0.04);
  }
  .logo img{width:100%;height:100%;object-fit:cover}
  .brand{display:flex;flex-direction:column}
  .brand h1{margin:0;font-size:18px;letter-spacing:0.2px}
  .brand p{margin:0;color:var(--muted);font-size:13px}

  /* slider viewport */
  .slider-viewport{height:calc(100% - 88px);display:flex;align-items:center;justify-content:center;padding-bottom:8px}
  .swiper{width:100%;height:100%}
  .swiper-slide{display:flex;align-items:center;justify-content:center;padding:20px}

  .card{width:100%;max-width:1000px;border-radius:12px;background:#fff;padding:18px;border:1px solid rgba(15,23,42,0.04);}

  /* hero */
  .hero{position:relative;overflow:hidden;border-radius:10px;min-height:360px;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center}
  .hero video.bg{position:absolute;inset:0;width:100%;height:100%;object-fit:cover;filter:brightness(.6);pointer-events:none}
  .overlay{position:absolute;inset:0;background:linear-gradient(180deg, rgba(255,255,255,0.0), rgba(255,255,255,0.35));pointer-events:none}
  .hero .content{position:relative;z-index:2;padding:6px;max-width:820px}
  .hero h2{font-size:26px;margin:0;color:#071233}
  .hero p{color:var(--muted);margin-top:10px}
  .ctas{margin-top:14px;display:flex;gap:12px;justify-content:center;flex-wrap:wrap}
  .btn{
    display:inline-flex;align-items:center;gap:10px;padding:10px 16px;border-radius:999px;font-weight:700;border:none;cursor:pointer;
    box-shadow:0 6px 18px rgba(16,24,40,0.06)
  }
  .btn.whatsapp{background:linear-gradient(90deg,var(--accent-2),var(--accent));color:#071233}
  .btn.ghost{background:transparent;border:1px solid rgba(15,23,42,0.06);color:var(--muted)}

  /* top3 layout */
  .showcase-title{display:flex;align-items:center;justify-content:space-between;gap:12px}
  .showcase-title h3{margin:0;font-size:18px;color:#071233}
  .top3-card{width:320px;min-width:260px;border-radius:12px;overflow:hidden;background:#fff;border:1px solid rgba(15,23,42,0.04)}
  .video-wrap{background:#000;height:190px;display:flex;align-items:center;justify-content:center}
  .video-wrap video{width:100%;height:100%;object-fit:cover;display:block}
  .meta{padding:12px}
  .meta h4{margin:0;font-size:16px}
  .meta p{margin:6px 0 0;color:var(--muted);font-size:13px}
  .trophy{position:absolute;left:12px;top:12px;background:linear-gradient(90deg,var(--accent),var(--accent-2));padding:6px 10px;border-radius:999px;font-weight:800;color:#071233;box-shadow:0 8px 20px rgba(16,24,40,0.06)}

  /* rising */
  .rising-row{display:flex;gap:12px;flex-wrap:wrap;justify-content:center}
  .rising-card{width:46%;min-width:220px;border-radius:10px;overflow:hidden}

  /* dashboard */
  .dashboard{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:12px;margin-top:14px}
  .dash-card{background:linear-gradient(180deg,#ffffff,#fbfbfb);padding:12px;border-radius:10px;text-align:center;border:1px solid rgba(15,23,42,0.04)}
  .dash-card h4{margin:0;font-size:20px}
  .dash-card p{margin:6px 0 0;color:var(--muted);font-size:12px}

  .cta-panel{display:flex;gap:12px;align-items:center;justify-content:space-between;padding:12px;margin-top:14px;border-radius:10px;background:linear-gradient(90deg,#fff,#fafafa);border:1px solid rgba(15,23,42,0.04)}
  .ticker{margin-top:12px;padding:8px;border-radius:8px;background:#fff;font-size:13px;color:var(--muted);overflow:hidden;border:1px solid rgba(15,23,42,0.03)}

  .wrap-footer{display:flex;justify-content:space-between;align-items:center;padding:12px 18px;color:var(--muted);font-size:13px}

  .modal{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(2,6,23,0.6);z-index:200}
  .modal.show{display:flex}
  .modal .box{width:min(980px,96%);background:#fff;border-radius:10px;padding:12px}
  .modal video{width:100%;height:520px;object-fit:contain}

  .nav-dots{position:absolute;bottom:18px;left:50%;transform:translateX(-50%);display:flex;gap:8px;z-index:80}
  .dot{width:10px;height:10px;border-radius:50%;background:#e6eef8;cursor:pointer;box-shadow:0 2px 6px rgba(10,10,10,0.05)}
  .dot.active{background:linear-gradient(90deg,var(--accent),var(--accent-2))}

  /* music toggle */
  .music-toggle{position:fixed;right:18px;bottom:18px;z-index:220;background:#fff;border-radius:999px;padding:8px 10px;border:1px solid rgba(15,23,42,0.06);cursor:pointer;box-shadow:0 10px 30px rgba(16,24,40,0.06)}

  @media (max-width:900px){
    .video-wrap{height:160px}
    .hero h2{font-size:20px}
    .top3-card{width:86%}
    .rising-card{width:100%}
    .cta-panel{flex-direction:column;align-items:stretch;gap:10px}
    .modal .box{padding:8px}
    .modal video{height:320px}
  }
</style>
</head>
<body>
  <div class="wrap" id="wrap">
    <!-- TOPBAR -->
    <div class="topbar">
      <div class="logo"><img src="https://raw.githubusercontent.com/Sujal-glitch/yaaron-ki-sawari-wall-of-fame/main/logo.jpeg" alt="logo"></div>
      <div class="brand">
        <h1><strong>Yaaron Ki Sawari</strong></h1>
        <p>Your Ultimate Travel Buddy</p>
      </div>
    </div>

    <!-- SLIDER VIEWPORT -->
    <div class="slider-viewport">
      <div class="swiper mainSwiper">
        <div class="swiper-wrapper">

          <!-- HERO SLIDE -->
          <div class="swiper-slide">
            <div class="card hero" role="region" aria-label="Welcome">
              <video class="bg" autoplay muted loop playsinline preload="metadata" src="https://raw.githubusercontent.com/Sujal-glitch/yaaron-ki-sawari-wall-of-fame/main/background.mp4"></video>
              <div class="overlay"></div>
              <div class="content">
                <h2>Welcome to <strong>Yaaron Ki Sawari</strong> ‚Äî Wall of Fame üåü</h2>
                <p>Every journey leaves a story ‚Äî here we celebrate the smiles, laughter, and memories that make each trip unforgettable. Send your review video to be featured and inspire future travelers.</p>
                <div class="ctas">
                  <button class="btn whatsapp" id="shareCTA">üì≤ Send Video on WhatsApp</button>
                  <button class="btn ghost" id="learnMore">‚ÑπÔ∏è How to submit</button>
                </div>
                <div style="margin-top:12px;color:var(--muted);font-size:13px">Short videos (30‚Äì90s) in your language work best. We respond within <strong>&lt; 2 hours</strong>.</div>
              </div>
            </div>
          </div>

          <!-- TOP 3 SLIDE -->
          <div class="swiper-slide">
            <div class="card" role="region" aria-label="Top 3">
              <div class="showcase-title">
                <h3>üèÜ Top 3 ‚Äî Wall of Fame</h3>
                <div style="color:var(--muted);font-size:13px">Auto-rotate ‚Ä¢ Tap to view fullscreen</div>
              </div>

              <div class="swiper top3Swiper" style="margin-top:14px">
                <div class="swiper-wrapper">

                  <!-- GOLD -->
                  <div class="swiper-slide" style="display:flex;justify-content:center">
                    <div class="top3-card">
                      <div style="position:relative">
                        <div class="trophy">ü•á</div>
                        <div class="video-wrap">
                          <video data-src="https://raw.githubusercontent.com/Sujal-glitch/yaaron-ki-sawari-wall-of-fame/main/video-meghna.mp4" playsinline muted class="lazy-video"></video>
                        </div>
                        <div class="meta">
                          <h4>Meghna ‚Äî Bhutan</h4>
                          <p class="small-muted">‚ÄúBhutan was pure peace. Every moment felt handled beautifully.‚Äù</p>
                          <div style="margin-top:10px;display:flex;gap:8px;justify-content:center">
                            <button class="btn ghost playBtn">‚ñ∂ Watch Full</button>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>

                  <!-- SILVER -->
                  <div class="swiper-slide" style="display:flex;justify-content:center">
                    <div class="top3-card">
                      <div style="position:relative">
                        <div class="trophy" style="left:12px;top:12px">ü•à</div>
                        <div class="video-wrap">
                          <video data-src="https://raw.githubusercontent.com/Sujal-glitch/yaaron-ki-sawari-wall-of-fame/main/video-ruth.mp4" playsinline muted class="lazy-video"></video>
                        </div>
                        <div class="meta">
                          <h4>Ruth ‚Äî Bhutan</h4>
                          <p class="small-muted">‚ÄúFrom start to end, everything flowed perfectly ‚Äî felt like home away from home.‚Äù</p>
                          <div style="margin-top:10px;display:flex;gap:8px;justify-content:center">
                            <button class="btn ghost playBtn">‚ñ∂ Watch Full</button>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>

                  <!-- BRONZE -->
                  <div class="swiper-slide" style="display:flex;justify-content:center">
                    <div class="top3-card">
                      <div style="position:relative">
                        <div class="trophy" style="left:12px;top:12px">ü•â</div>
                        <div class="video-wrap">
                          <video data-src="https://raw.githubusercontent.com/Sujal-glitch/yaaron-ki-sawari-wall-of-fame/main/video-dinky-meet.mp4" playsinline muted class="lazy-video"></video>
                        </div>
                        <div class="meta">
                          <h4>Dinky Patel &amp; Meet Patel ‚Äî Sikkim</h4>
                          <p class="small-muted">‚ÄúSikkim stole our hearts ‚Äî effortless and beautiful!‚Äù</p>
                          <div style="margin-top:10px;display:flex;gap:8px;justify-content:center">
                            <button class="btn ghost playBtn">‚ñ∂ Watch Full</button>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>

                </div>
                <div class="swiper-pagination top3-pagination"></div>
              </div>
            </div>
          </div>

          <!-- RISING STARS SLIDE -->
          <div class="swiper-slide">
            <div class="card" role="region" aria-label="Rising Stars">
              <h3 style="margin:0">üåü Rising Stars</h3>
              <div style="color:var(--muted);margin-top:6px;font-size:13px">Close to the podium ‚Äî inspiring journeys worth watching.</div>

              <div class="rising-row" style="margin-top:12px">
                <div class="rising-card">
                  <div class="video-wrap">
                    <video data-src="https://raw.githubusercontent.com/Sujal-glitch/yaaron-ki-sawari-wall-of-fame/main/video-srikhant.mp4" playsinline muted class="lazy-video"></video>
                  </div>
                  <div class="meta">
                    <h4>Srikhant &amp; Wife ‚Äî Andaman &amp; Nicobar</h4>
                    <p class="small-muted">‚ÄúThe beaches, the breeze ‚Äî everything felt picture-perfect with Yaaron Ki Sawari.‚Äù</p>
                    <div style="margin-top:8px">
                      <button class="btn ghost playBtn small">‚ñ∂ Watch</button>
                    </div>
                  </div>
                </div>

                <div class="rising-card">
                  <div class="video-wrap">
                    <video data-src="https://raw.githubusercontent.com/Sujal-glitch/yaaron-ki-sawari-wall-of-fame/main/video-mukesh.mp4" playsinline muted class="lazy-video"></video>
                  </div>
                  <div class="meta">
                    <h4>Mukesh &amp; Friends ‚Äî Meghalaya</h4>
                    <p class="small-muted">‚ÄúUnreal views, endless laughter ‚Äî an unforgettable memory.‚Äù</p>
                    <div style="margin-top:8px">
                      <button class="btn ghost playBtn small">‚ñ∂ Watch</button>
                    </div>
                  </div>
                </div>
              </div>

            </div>
          </div>

          <!-- DASHBOARD SLIDE -->
          <div class="swiper-slide">
            <div class="card" role="region" aria-label="Community Dashboard">
              <div style="display:flex;justify-content:space-between;align-items:center;gap:12px;flex-wrap:wrap">
                <div>
                  <h3 style="margin:0">Yaaron Ki Sawari ‚Äî Our Growing Family</h3>
                  <div class="small-muted" style="margin-top:6px;color:var(--muted)">You‚Äôre joining a lively community ‚Äî here‚Äôs the scale of love our travelers have shared.</div>
                </div>
                <div style="text-align:right">
                  <button class="btn whatsapp" id="shareCTA2">üì≤ Send Video on WhatsApp</button>
                </div>
              </div>

              <div class="dashboard">
                <div class="dash-card"><h4 id="cntTotal">0</h4><p>Total Review Videos</p></div>
                <div class="dash-card"><h4 id="cntFeatured">0</h4><p>Featured Videos</p></div>
                <div class="dash-card"><h4 id="cntMonthly">0</h4><p>Monthly Submissions</p></div>
                <div class="dash-card"><h4 id="cntRating">0</h4><p>Average Rating</p></div>
                <div class="dash-card"><h4 id="cntReach">0</h4><p>Social Reach</p></div>
                <div class="dash-card"><h4 id="cntCountries">0</h4><p>Countries Covered</p></div>
              </div>

              <div class="cta-panel">
                <div>
                  <p style="margin:0">Want to be featured on this Wall? Send your review ‚Äî we pick top videos every month.</p>
                </div>
                <div style="display:flex;gap:8px;align-items:center">
                  <button class="btn whatsapp" id="shareCTA3">üì≤ Send Your Video</button>
                  <button class="btn ghost" id="howItWorks">How it works</button>
                </div>
              </div>

              <div class="ticker" id="ticker">Latest submissions: ‚Äî</div>
            </div>
          </div>

          <!-- REVIEWS & ABOUT SLIDE -->
          <div class="swiper-slide">
            <div class="card" role="region" aria-label="Reviews and About">
              <h3 style="margin:0">üí¨ Leave a Review</h3>
              <div style="color:var(--muted);margin-top:6px">Your words help other travelers pick the perfect trips.</div>

              <div style="display:flex;gap:12px;flex-wrap:wrap;margin-top:12px">
                <a class="btn whatsapp" href="https://g.page/r/CSIcPi8yEnzdEAE/review" target="_blank" rel="noopener">‚≠ê Leave Google Review</a>
                <a class="btn whatsapp" href="https://www.tripadvisor.in/UserReviewEdit-g659786-d20355637-Yarokisawari_Board_With_Your_Buddy-Siliguri_Darjeeling_District_West_Bengal.html" target="_blank" rel="noopener">üåç TripAdvisor</a>
              </div>

              <div style="margin-top:14px">
                <h4 style="margin:0"><strong>About <span style="font-weight:900">Yaaron Ki Sawari</span></strong></h4>
                <p style="color:var(--muted);margin-top:8px">Yaaron Ki Sawari Holidays is your ultimate travel buddy ‚Äî crafting joyful trips and unforgettable experiences. We celebrate traveler stories and feature the most heartfelt videos on our social channels.</p>
              </div>

              <div style="margin-top:18px;display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap">
                <div style="color:var(--muted)">Instagram: <a href="https://www.instagram.com/yaronkisawari" target="_blank" rel="noopener" style="color:var(--accent)">@yaronkisawari</a></div>
                <div style="color:var(--muted)">Contact: +91 95937 53131 ‚Ä¢ info@yaronkisawari.com</div>
              </div>
            </div>
          </div>

        </div>
        <!-- nav dots -->
        <div class="nav-dots" id="navDots"></div>
      </div>
    </div>

    <!-- footer inside wrap -->
    <div class="wrap-footer">
      <div>¬© <strong>Yaaron Ki Sawari</strong> ‚Äî All rights reserved ‚Ä¢ <span id="yearSpan"></span></div>
      <div style="color:var(--muted)">Made with ‚ù§Ô∏è ‚Ä¢ Share: #YaaronKiSawari</div>
    </div>

    <!-- modal -->
    <div class="modal" id="modal">
      <div class="box">
        <button id="closeModal" style="float:right;background:transparent;border:none;color:var(--muted);font-size:14px;cursor:pointer">Close</button>
        <video id="modalVideo" controls playsinline></video>
      </div>
    </div>

    <!-- music toggle -->
    <button class="music-toggle" id="musicToggle" aria-pressed="false">üîà Mute</button>

  </div>

  <!-- Libraries -->
  <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.2/dist/confetti.browser.min.js"></script>

  <script>
  /* CONFIG */
  const WHATS_NUMBER = '919593753131';
  const WHATS_MESSAGE = "Hi Yaaron Ki Sawari üëã I had an amazing trip with you and would love to share my review video! üé¨‚ú® Please guide me with the next steps to submit it.";
  const dashboard = { total:250, featured:120, monthly:34, rating:4.8, reach:56000, countries:12 };
  const tickerNames = ['Manish ‚Äî Sikkim','Asha ‚Äî Goa','Rahul ‚Äî Leh-Ladakh','Preeti ‚Äî Kerala','Vikram ‚Äî Rishikesh','Sunita ‚Äî Himachal'];

  /* SWIPER INITS */
  const mainSwiper = new Swiper('.mainSwiper', {
    loop:true,
    speed:700,
    autoplay:{ delay:6000, disableOnInteraction:false },
    on:{ slideChange: updateDots }
  });
  const top3Swiper = new Swiper('.top3Swiper', {
    loop:true,spaceBetween:18,centeredSlides:true,slidesPerView:1.05,
    autoplay:{delay:4500,disableOnInteraction:false},
    pagination:{el:'.top3-pagination',clickable:true}
  });

  /* NAV DOTS */
  const navDots = document.getElementById('navDots');
  function buildDots(){
    navDots.innerHTML='';
    for(let i=0;i<5;i++){
      const d=document.createElement('div'); d.className='dot'; if(i===0) d.classList.add('active');
      d.addEventListener('click', ()=> mainSwiper.slideToLoop(i));
      navDots.appendChild(d);
    }
  }
  buildDots();
  function updateDots(){ const idx=mainSwiper.realIndex; document.querySelectorAll('.dot').forEach((el,i)=> el.classList.toggle('active', i===idx)); }

  /* LAZY LOAD VIDEOS (IntersectionObserver) */
  const lazyVideos = Array.from(document.querySelectorAll('.lazy-video'));
  const lazyIO = new IntersectionObserver((entries)=>{
    entries.forEach(entry=>{
      const v = entry.target;
      if(entry.isIntersecting){
        if(!v.src || v.src.trim()==='') v.src = v.datasetSrc || v.datasetSrc === undefined ? v.dataset.src || v.getAttribute('data-src') : '';
        // safety: also set source children if provided - but our data-src on video element is enough
      } else {
        try{ v.pause(); }catch(e){}
      }
    });
  }, { root: document.querySelector('.wrap'), threshold: 0.5 });
  lazyVideos.forEach(v => lazyIO.observe(v));

  /* POLYFILL: older browsers may not support dataset in some contexts; ensure we read data-src correctly */
  // The lazy loading above sets src from data-src attribute.

  /* MODAL PLAY */
  const modal = document.getElementById('modal');
  const modalVideo = document.getElementById('modalVideo');
  const closeModal = document.getElementById('closeModal');
  document.querySelectorAll('.playBtn').forEach(btn=>{
    btn.addEventListener('click', ()=>{
      const card = btn.closest('.top3-card') || btn.closest('.rising-card');
      const vid = card.querySelector('video');
      if(vid){
        if(!vid.src || vid.src.trim()==='') vid.src = vid.getAttribute('data-src');
        modalVideo.src = vid.src;
        modal.classList.add('show');
        modalVideo.play().catch(()=>{});
      }
    });
  });
  closeModal.addEventListener('click', ()=>{ modal.classList.remove('show'); modalVideo.pause(); modalVideo.src=''; });
  modal.addEventListener('click', (e)=>{ if(e.target === modal) closeModal.click(); });

  /* WHATSAPP CTA */
  function openWhats(){ window.open(`https://wa.me/${WHATS_NUMBER}?text=${encodeURIComponent(WHATS_MESSAGE)}`, '_blank'); }
  document.getElementById('shareCTA').addEventListener('click', ()=>{
    confetti({ particleCount:30, spread:60, origin:{ y:0.6 } });
    openWhats();
  });
  document.getElementById('shareCTA2').addEventListener('click', ()=>{ confetti({ particleCount:20, spread:50, origin:{ y:0.6 } }); openWhats(); });
  document.getElementById('shareCTA3').addEventListener('click', openWhats);

  document.getElementById('learnMore').addEventListener('click', ()=> {
    alert('How to submit:\\n1) Record a 30‚Äì90s video.\\n2) Upload to WhatsApp or YouTube (Unlisted).\\n3) Send the video or link via WhatsApp. We will respond and feature top videos.');
  });
  document.getElementById('howItWorks').addEventListener('click', ()=> document.getElementById('learnMore').click());

  /* DASHBOARD ANIMATION (run once when visible) */
  let dashAnimated = false;
  const dashObserver = new IntersectionObserver((entries)=>{
    entries.forEach(entry=>{
      if(entry.isIntersecting && !dashAnimated){
        dashAnimated = true;
        animate('cntTotal',0,dashboard.total,900);
        animate('cntFeatured',0,dashboard.featured,900);
        animate('cntMonthly',0,dashboard.monthly,900);
        animate('cntRating',0,dashboard.rating,900,1);
        animate('cntReach',0,dashboard.reach,900);
        animate('cntCountries',0,dashboard.countries,900);
        startTicker();
      }
    });
  }, { root: document.querySelector('.wrap'), threshold: 0.35 });
  dashObserver.observe(document.querySelector('.dashboard'));

  function animate(id,start,end,duration,decimals=0){
    const el = document.getElementById(id);
    let startTime = null;
    function step(ts){
      if(!startTime) startTime = ts;
      const prog = Math.min((ts-startTime)/duration,1);
      const val = start + (end-start)*prog;
      el.textContent = decimals ? val.toFixed(decimals) : Math.floor(val).toLocaleString();
      if(prog < 1) requestAnimationFrame(step);
    }
    requestAnimationFrame(step);
  }

  /* TICKER */
  function startTicker(){
    const tick = document.getElementById('ticker');
    let i = 0;
    tick.textContent = 'Latest submissions: ' + tickerNames[i];
    i++;
    setInterval(()=>{ tick.textContent = 'Latest submissions: ' + tickerNames[i % tickerNames.length]; i++; }, 4200);
  }

  /* BACKGROUND MUSIC (autoplay attempt; user control) */
  let bgMusic;
  try{
    bgMusic = new Audio('https://cdn.pixabay.com/download/audio/2023/03/15/audio_6e3b8b7f3a.mp3?filename=chill-lounge-ambient-11090.mp3');
    bgMusic.loop = true; bgMusic.volume = 0.18;
    // try autoplay
    bgMusic.play().catch(()=>{ /* browsers may block until user interacts */ });
    const musicToggle = document.getElementById('musicToggle');
    musicToggle.addEventListener('click', ()=>{
      if(bgMusic.paused){ bgMusic.play().catch(()=>{}); musicToggle.innerText = 'üîà Mute'; musicToggle.setAttribute('aria-pressed','false'); }
      else{ bgMusic.pause(); musicToggle.innerText = 'üîä Unmute'; musicToggle.setAttribute('aria-pressed','true'); }
    });
  }catch(e){ /* ignore */ }

  /* PAUSE OUT-OF-VIEW VIDEOS */
  const allVideos = document.querySelectorAll('video');
  const vidIO = new IntersectionObserver((entries)=>{
    entries.forEach(en=>{
      const v = en.target;
      if(!en.isIntersecting){
        try{ v.pause(); }catch(e){}
      }
    });
  }, { threshold: 0.25 });
  allVideos.forEach(v => vidIO.observe(v));

  /* YEAR */
  document.getElementById('yearSpan').textContent = new Date().getFullYear();

  /* ensure dots reflect slides */
  setTimeout(()=> updateDots(), 600);

  /* helper to update dots */
  function updateDots(){ const idx = mainSwiper.realIndex; document.querySelectorAll('.dot').forEach((el,i)=> el.classList.toggle('active', i===idx)); }

  </script>
</body>
</html>
